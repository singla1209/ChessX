:root{
  --light:#f0d9b5;
  --dark:#b58863;
  --accent:#4c9fff;
  --capture:#ff6b6b;
  --select:#ffd166;
  --grid:64px;
}

*{box-sizing:border-box}

body{
  margin:0;
  padding:24px 16px 40px;
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:#222;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
}

h1{
  margin:0 0 6px 0;
  font-size:20px;
  letter-spacing:.3px;
}

.top-bar{
  display:flex;
  gap:16px;
  align-items:center;
  font-size:14px;
}

#chessboard{
  display:grid;
  grid-template-columns:repeat(8,var(--grid));
  grid-template-rows:repeat(8,var(--grid));
  border:2px solid #333;
  box-shadow:0 2px 8px rgba(0,0,0,.12);
  user-select:none;
}

.square{
  width:var(--grid);
  height:var(--grid);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  position:relative;
  line-height:1;
}

.square.light{ background:var(--light); }
.square.dark{ background:var(--dark); }

.piece{
  cursor:pointer;
  transition:transform .06s ease;
}

.piece:active{
  transform:scale(.96);
}

.square.selected{
  outline:3px solid var(--select);
  outline-offset:-3px;
}

.square .hint{
  position:absolute;
  width:18px;
  height:18px;
  border-radius:50%;
  pointer-events:none;
  opacity:.95;
}

.square .hint.move{ background:radial-gradient(circle at 50% 50%, var(--accent) 0 6px, transparent 7px); }
.square .hint.capture{
  width:calc(var(--grid) - 10px);
  height:calc(var(--grid) - 10px);
  border:4px solid var(--capture);
  background:transparent;
}

.legend{
  display:flex;
  align-items:center;
  gap:16px;
  font-size:13px;
  color:#444;
}

.legend .dot{
  display:inline-block;
  width:14px; height:14px;
  border-radius:50%;
  margin-right:6px;
  vertical-align:middle;
}

.legend .move{ background:var(--accent); }
.legend .capture{ background:var(--capture); }
.legend .selected{ background:var(--select); border:1px solid #a87f00; }

@media (max-width:560px){
  :root{ --grid:44px; }
  .square{ font-size:28px; }
}

.audio-bar{
  display:flex;
  gap:12px;
  align-items:center;
  font-size:14px;
  margin-bottom:8px;
}
.audio-bar input[type="range"]{ width:120px; }
